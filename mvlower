#! /usr/bin/env python


import shutil
import sys
import pathlib


def format_fname(fname: str) -> str:
    return fname.lower().translate({
        " ": "-", "(": "", ")": "", "[": "", "]": "", })


def main(*files: str, verbose=True) -> None:
    for file in files:

        old_path = pathlib.Path(file)

        if (new_path := old_path.parent / format_fname(old_path.name)).exists():
            print(f"'{new_path}' already exists, skipping.", file=sys.stderr)
            continue

        shutil.move(old_path, new_path)
        if verbose:
            print(f'"{old_path}" -> "{new_path}"')


if __name__ == "__main__":
    main(*sys.argv[1:])

