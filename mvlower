#! /usr/bin/env python


import shutil
import sys
import os
import pathlib


def format_fname(fname: str) -> str:
    return (fname
        .lower()
        .replace(" ", "-")
        .replace("(", "")
        .replace(")", "")
        .replace("[", "")
        .replace("]", ""))


def main(*files: str) -> None:
    for file in files:

        old_path = pathlib.Path(file)

        if (new_path := old_path.parent / format_name(old_path.name)).exists():
            print(f"'{new_path}' already exists, skipping.", file=sys.stderr)
        else:
            shutil.move(old_path, new_path)


if __name__ == "__main__":
    main(*sys.argv[1:])

