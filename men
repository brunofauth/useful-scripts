#! /bin/sh


FZF_BIND_COMMANDS="\
enter:execute(echo {+} | xargs --max-args 2 man)+clear-selection,\
esc:cancel\
"

man -k . \
    | sed 's|\(\S\+\)\s\+(\(\S\+\)).\+|\2\t\t\1|' \
    | fzf \
        -i -m --exact --cycle \
        --info=inline \
        --header="Shift + Up/Down to scroll. ESC to quit." --header-first \
        --preview "man '{}'" \
        --bind="$FZF_BIND_COMMANDS"
